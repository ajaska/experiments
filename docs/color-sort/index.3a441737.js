!function(e,o,t,n,r){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof a.parcelRequire&&a.parcelRequire,s="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(t,n){if(!o[t]){if(!e[t]){var r="function"==typeof parcelRequire&&parcelRequire;if(!n&&r)return r(t,!0);if(i)return i(t,!0);if(s&&"string"==typeof t)return s(t);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}c.resolve=function(o){return e[t][1][o]||o},c.cache={};var d=o[t]=new l.Module(t);e[t][0].call(d.exports,c,d,d.exports,this)}return o[t].exports;function c(e){return l(c.resolve(e))}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=o,l.parent=i,l.register=function(o,t){e[o]=[function(e,o){o.exports=t},{}]},a.parcelRequire=l;for(var d=0;d<t.length;d++)l(t[d]);var c=l("4QZbp");"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define((function(){return c}))}({"4QZbp":[function(e,o,t){"use strict";var n,r=(n=e("p5"))&&n.__esModule?n:{default:n},a=e("./sketch");new r.default(e=>{let o;e.setup=()=>{o=(0,a.setup)(e),o.p5=e},e.draw=()=>{(0,a.updateState)(o),(0,a.draw)(e,o)}},document.getElementById("p5canvas"))},{p5:"62Beh","./sketch":"Ua0K9"}],Ua0K9:[function(e,o,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function(e){e.createCanvas(a,i),e.background(64,64,64);const o=e.createImage(a,i);o.loadPixels();for(let e=0;e<o.height;e++){const t=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),r=Math.floor(256*Math.random());for(let a=0;a<o.width;a++){const i=4*(a+e*o.width);o.pixels[i]=t,o.pixels[i+1]=n,o.pixels[i+2]=r,o.pixels[i+3]=255}}o.updatePixels();const t=e.createSelect();t.position(10,10);const n={Random:r.Random,RGB:r.RGB,HSL:r.HSL,"HSL (HLS)":r.HLS,HSB:r.HSB,"HSB (HBS)":r.HBS,"RGB (Morton)":r.RGBMorton,"HSL (Morton)":r.HSLMorton,"HSL (HLS) (Morton)":r.HLSMorton,"HSB (Morton)":r.HSBMorton,"HSB (HBS) (Morton)":r.HBSMorton};for(let e of Object.keys(n))t.option(e);const s={p5:e,img:o,sel:t,sorted:!1,method:r.Random};return t.changed(()=>{const o=t.value();s.sorted=!1,s.method=n[o],e.redraw()}),s},t.updateState=function(e){const{img:o,p5:t}=e;if(null==o)return;if(!e.sorted){o.loadPixels(),console.debug(o.pixels),console.debug("start");const n=performance.now(),a=new Uint32Array(o.width*o.height),i=new Uint32Array(o.width*o.height);console.debug("allocated",performance.now()-n);{const n={};for(let l=0;l<o.height;l++)for(let d=0;d<o.width;d++){const c=d+l*o.width,u=4*c,p=[o.pixels[u],o.pixels[u+1],o.pixels[u+2]],f=p[0]<<16|p[1]<<8|p[2]<<0;if(f in n)i[c]=n[f];else{let o;switch(e.method){case r.Random:o=Math.floor(999999999*Math.random());break;case r.RGB:o=p[0]<<16|p[1]<<8|p[2]<<0;break;case r.HSL:case r.HLS:{const n=0|t.map(t.hue(p),0,360,0,255,!0),a=0|t.map(t.saturation(p),0,100,0,255,!0),i=0|t.map(t.lightness(p),0,100,0,255,!0);o=e.method===r.HSL?n<<16|a<<8|i<<0:n<<16|i<<8|a<<0;break}case r.HBS:case r.HSB:{t.colorMode(t.HSB);const n=0|t.map(t.hue(p),0,360,0,255,!0),a=0|t.map(t.saturation(p),0,100,0,255,!0),i=0|t.map(t.brightness(p),0,100,0,255,!0);o=n<<16|a<<8|i<<0,o=e.method===r.HSB?n<<16|a<<8|i<<0:n<<16|i<<8|a<<0,t.colorMode(t.RGB);break}case r.RGBMorton:o=s(p[2],p[1],p[0]);break;case r.HSLMorton:case r.HLSMorton:{const n=0|t.map(t.hue(p),0,360,0,255,!0),a=0|t.map(t.saturation(p),0,100,0,255,!0),i=0|t.map(t.lightness(p),0,100,0,255,!0);o=e.method===r.HSLMorton?s(i,a,n):s(a,i,n);break}case r.HBSMorton:case r.HSBMorton:{t.colorMode(t.HSB);const n=0|t.map(t.hue(p),0,360,0,255,!0),a=0|t.map(t.saturation(p),0,100,0,255,!0),i=0|t.map(t.brightness(p),0,100,0,255,!0);o=e.method===r.HSBMorton?s(i,a,n):s(a,i,n),t.colorMode(t.RGB);break}}n[f]=i[c]=o}a[c]=c}}console.debug("calculated",performance.now()-n);const l=Uint8Array.from(o.pixels);console.debug("copied",performance.now()-n),a.sort((e,o)=>i[e]-i[o]),console.debug("wow sorted",performance.now()-n);for(let e=0;e<a.length;e++){const t=a[e],n=4*e,r=4*t;o.pixels[n]=l[r],o.pixels[n+1]=l[r+1],o.pixels[n+2]=l[r+2],o.pixels[n+3]=l[r+3]}console.debug("set",performance.now()-n),o.updatePixels(),e.sorted=!0}},t.draw=function(e,o){if(null==o.img)return;e.image(o.img,0,0),o.method===r.Random&&(e.fill("white"),e.stroke("black"),e.strokeWeight(8),e.textSize(24),e.text('Colors are a three-dimensional space.\nWhat does it mean to "sort" them, into a one-dimensional list?\nHere\'s a comparison of sorting in several different color spaces.',10,80));e.noLoop()},((n=e("p5"))&&n.__esModule?n:{default:n}).default.disableFriendlyErrors=!0,function(e){e[e.Random=1]="Random",e[e.RGB=2]="RGB",e[e.RGBMorton=3]="RGBMorton",e[e.HSL=4]="HSL",e[e.HLS=5]="HLS",e[e.HSLMorton=6]="HSLMorton",e[e.HLSMorton=7]="HLSMorton",e[e.HSB=8]="HSB",e[e.HBS=9]="HBS",e[e.HSBMorton=10]="HSBMorton",e[e.HBSMorton=11]="HBSMorton"}(r||(r={}));const a=window.innerWidth,i=window.innerHeight-4;function s(e,o,t){return(e=153391689&((e=51130563&((e=50393103&((e=50331903&(e|e<<16))|e<<8))|e<<4))|e<<2))|(o=153391689&((o=51130563&((o=50393103&((o=50331903&(o|o<<16))|o<<8))|o<<4))|o<<2))<<1|(t=153391689&((t=51130563&((t=50393103&((t=50331903&(t|t<<16))|t<<8))|t<<4))|t<<2))<<2}},{p5:"62Beh"}]},{},["4QZbp"]);
//# sourceMappingURL=index.3a441737.js.map
