{"mappings":"+oCAOAA,eAAeC,IACb,IACE,IAPAC,wBACoD,mBAA7CA,uBAAuBC,kBAME,CAG9B,YAFcC,SAASC,eAAe,SAChCC,UAAY,0CAIpB,MAAMC,QAAiBL,uBAAuBC,oBAE9C,GAAiB,YAAbI,EAAwB,CAC1B,MAAMC,EAAUJ,SAASC,eAAe,WACxCI,QAAQC,IAAI,WACZC,OAAOC,iBAAiB,oBAAsBC,IAC5CL,EAAQF,UAAa,KAAIO,EAAEC,MAAMC,QAAQ,QAAQF,EAAEG,KAAKD,QACtD,QACKF,EAAEI,MAAMF,QAAQ,MAAMF,EAAEK,iBAE5B,CAAA,GAAiB,WAAbX,EAGT,MAAM,IAAIY,MAAM,2CAFhBC,MAAM,WAIR,MAAOP,GACPO,MAAMP,EAAEQ,UAIZjB,SAASQ,iBAAiB,mBAAoB,KAC5BR,SAASC,eAAe,WAChCO,iBAAiB,QAAS,KAChCX","sources":["./src/glass/index.ts"],"sourcesContent":["function canUseDeviceOrientation() {\n  return (\n    DeviceOrientationEvent &&\n    typeof DeviceOrientationEvent.requestPermission === \"function\"\n  );\n}\n\nasync function configureDeviceOrientationListener() {\n  try {\n    if (!canUseDeviceOrientation()) {\n      const error = document.getElementById(\"error\")!;\n      error.innerText = \"Please try again on a mobile device :D\";\n      return;\n    }\n\n    const response = await DeviceOrientationEvent.requestPermission();\n\n    if (response === \"granted\") {\n      const clickme = document.getElementById(\"clickme\")!;\n      console.log(\"granted\");\n      window.addEventListener(\"deviceorientation\", (e) => {\n        clickme.innerText = `A:${e.alpha.toFixed(2)} B:${e.beta.toFixed(\n          2\n        )} G:${e.gamma.toFixed(2)} ${e.absolute}`;\n      });\n    } else if (response === \"denied\") {\n      alert(\"denied\"); // TODO\n    } else {\n      throw new Error(\"Unknown DeviceOrientationEvent response\");\n    }\n  } catch (e) {\n    alert(e.message);\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const clickme = document.getElementById(\"clickme\")!;\n  clickme.addEventListener(\"click\", () => {\n    configureDeviceOrientationListener();\n  });\n});\n"],"names":["async","configureDeviceOrientationListener","DeviceOrientationEvent","requestPermission","document","getElementById","innerText","response","clickme","console","log","window","addEventListener","e","alpha","toFixed","beta","gamma","absolute","Error","alert","message"],"version":3,"file":"index.46220277.js.map"}