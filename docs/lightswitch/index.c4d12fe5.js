!function(e,t,n,r,o){var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof l.parcelRequire&&l.parcelRequire,a="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(n,r){if(!t[n]){if(!e[n]){var o="function"==typeof parcelRequire&&parcelRequire;if(!r&&o)return o(n,!0);if(i)return i(n,!0);if(a&&"string"==typeof n)return a(n);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}s.resolve=function(t){return e[n][1][t]||t},s.cache={};var c=t[n]=new u.Module(n);e[n][0].call(c.exports,s,c,c.exports,this)}return t[n].exports;function s(e){return u(s.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=t,u.parent=i,u.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},l.parcelRequire=u;for(var c=0;c<n.length;c++)u(n[c]);var s=u("6e0Qv");"object"==typeof exports&&"undefined"!=typeof module?module.exports=s:"function"==typeof define&&define.amd&&define((function(){return s}))}({"6e0Qv":[function(e,t,n){"use strict";var r,o=u(e("react")),l=u(e("react-dom")),i=(r=e("classnames"))&&r.__esModule?r:{default:r};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}const c=()=>{const[e,t]=o.useState(!1),[n,r]=o.useState(null),[l,a]=o.useState(!1);o.useEffect(()=>{const e=new WebSocket("wss://experiments-do.ajaska.com:443/lightswitch/");return e.onmessage=e=>{const t=JSON.parse(e.data);u(t.on)},e.onerror=()=>{console.log("falling back to singleplayer mode"),r(null),a(!0)},r(e),()=>{e.close()}},[]);const u=o.useCallback(e=>{t(e),null!=n&&n.send(JSON.stringify({on:e}))},[n]);return n||l?o.createElement("div",{className:(0,i.default)("container",{"lights-out":!e})},l?o.createElement("div",{style:{opacity:.6}},"(error connecting to server)"):null,o.createElement("div",{className:"switch-box"},o.createElement("div",{className:(0,i.default)("toggle-switch-holder",{off:e})},o.createElement("div",{className:"toggle-switch-top",onClick:()=>e?null:u(!0)}),o.createElement("div",{className:"toggle-switch-bottom",onClick:()=>e?u(!1):null})))):o.createElement("div",null,"Loading...")};l.render(o.createElement(c,null),document.getElementById("react"))},{react:"9iBJD","react-dom":"Ux6qv",classnames:"5KZJx"}],"5KZJx":[function(e,t,n){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var e={}.hasOwnProperty;function n(){for(var t=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var l=typeof o;if("string"===l||"number"===l)t.push(o);else if(Array.isArray(o)&&o.length){var i=n.apply(null,o);i&&t.push(i)}else if("object"===l)for(var a in o)e.call(o,a)&&o[a]&&t.push(a)}}return t.join(" ")}void 0!==t&&t.exports?(n.default=n,t.exports=n):window.classNames=n}()},{}]},{},["6e0Qv"]);
//# sourceMappingURL=index.c4d12fe5.js.map
